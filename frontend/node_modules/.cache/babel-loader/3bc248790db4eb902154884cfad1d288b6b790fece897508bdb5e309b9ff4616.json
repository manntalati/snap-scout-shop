{"ast":null,"code":"var _jsxFileName = \"/Users/manntalati/Desktop/Projects/snap-scout-shop/frontend/src/components/CameraCapture.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useCallback, useState } from 'react';\nimport Webcam from 'react-webcam';\nimport { Camera, Upload, RotateCcw } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CameraCapture = ({\n  onImageCapture,\n  isLoading\n}) => {\n  _s();\n  const webcamRef = useRef(null);\n  const [capturedImage, setCapturedImage] = useState(null);\n  const [facingMode, setFacingMode] = useState('environment');\n  const videoConstraints = {\n    width: 640,\n    height: 480,\n    facingMode: facingMode\n  };\n  const capture = useCallback(() => {\n    if (webcamRef.current) {\n      const imageSrc = webcamRef.current.getScreenshot();\n      if (imageSrc) {\n        setCapturedImage(imageSrc);\n        onImageCapture(imageSrc);\n      }\n    }\n  }, [onImageCapture]);\n  const retake = () => {\n    setCapturedImage(null);\n  };\n  const handleFileUpload = event => {\n    var _event$target$files;\n    const file = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        var _e$target;\n        const result = (_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.result;\n        setCapturedImage(result);\n        onImageCapture(result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const toggleCamera = () => {\n    setFacingMode(facingMode === 'user' ? 'environment' : 'user');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative bg-gray-900 rounded-lg overflow-hidden\",\n      children: [!capturedImage ? /*#__PURE__*/_jsxDEV(Webcam, {\n        ref: webcamRef,\n        audio: false,\n        screenshotFormat: \"image/jpeg\",\n        videoConstraints: videoConstraints,\n        className: \"w-full h-64 object-cover\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: capturedImage,\n        alt: \"Captured\",\n        className: \"w-full h-64 object-cover\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), !capturedImage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleCamera,\n          className: \"bg-white/20 backdrop-blur-sm rounded-full p-3 hover:bg-white/30 transition-colors\",\n          title: \"Switch Camera\",\n          children: /*#__PURE__*/_jsxDEV(RotateCcw, {\n            className: \"w-5 h-5 text-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: capture,\n          disabled: isLoading,\n          className: \"bg-primary-500 rounded-full p-4 hover:bg-primary-600 disabled:opacity-50 transition-colors\",\n          title: \"Take Photo\",\n          children: /*#__PURE__*/_jsxDEV(Camera, {\n            className: \"w-6 h-6 text-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row gap-3\",\n      children: !capturedImage ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: capture,\n          disabled: isLoading,\n          className: \"flex-1 bg-primary-500 text-white py-3 px-6 rounded-lg hover:bg-primary-600 disabled:opacity-50 transition-colors flex items-center justify-center\",\n          children: [/*#__PURE__*/_jsxDEV(Camera, {\n            className: \"w-5 h-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this), isLoading ? 'Processing...' : 'Take Photo']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"flex-1 bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center cursor-pointer\",\n          children: [/*#__PURE__*/_jsxDEV(Upload, {\n            className: \"w-5 h-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this), \"Upload Image\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: handleFileUpload,\n            className: \"hidden\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: retake,\n        className: \"flex-1 bg-gray-500 text-white py-3 px-6 rounded-lg hover:bg-gray-600 transition-colors flex items-center justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n          className: \"w-5 h-5 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this), \"Retake Photo\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-2 text-gray-600\",\n        children: \"Analyzing your item...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(CameraCapture, \"7T1Xe9tMmsfzA2orB6sRfUeJs/4=\");\n_c = CameraCapture;\nexport default CameraCapture;\nvar _c;\n$RefreshReg$(_c, \"CameraCapture\");","map":{"version":3,"names":["React","useRef","useCallback","useState","Webcam","Camera","Upload","RotateCcw","jsxDEV","_jsxDEV","Fragment","_Fragment","CameraCapture","onImageCapture","isLoading","_s","webcamRef","capturedImage","setCapturedImage","facingMode","setFacingMode","videoConstraints","width","height","capture","current","imageSrc","getScreenshot","retake","handleFileUpload","event","_event$target$files","file","target","files","reader","FileReader","onload","e","_e$target","result","readAsDataURL","toggleCamera","className","children","ref","audio","screenshotFormat","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onClick","title","disabled","type","accept","onChange","_c","$RefreshReg$"],"sources":["/Users/manntalati/Desktop/Projects/snap-scout-shop/frontend/src/components/CameraCapture.tsx"],"sourcesContent":["import React, { useRef, useCallback, useState } from 'react';\nimport Webcam from 'react-webcam';\nimport { Camera, Upload, RotateCcw } from 'lucide-react';\n\ninterface CameraCaptureProps {\n  onImageCapture: (imageData: string) => void;\n  isLoading: boolean;\n}\n\nconst CameraCapture: React.FC<CameraCaptureProps> = ({ onImageCapture, isLoading }) => {\n  const webcamRef = useRef<Webcam>(null);\n  const [capturedImage, setCapturedImage] = useState<string | null>(null);\n  const [facingMode, setFacingMode] = useState<'user' | 'environment'>('environment');\n\n  const videoConstraints = {\n    width: 640,\n    height: 480,\n    facingMode: facingMode\n  };\n\n  const capture = useCallback(() => {\n    if (webcamRef.current) {\n      const imageSrc = webcamRef.current.getScreenshot();\n      if (imageSrc) {\n        setCapturedImage(imageSrc);\n        onImageCapture(imageSrc);\n      }\n    }\n  }, [onImageCapture]);\n\n  const retake = () => {\n    setCapturedImage(null);\n  };\n\n  const handleFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const result = e.target?.result as string;\n        setCapturedImage(result);\n        onImageCapture(result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const toggleCamera = () => {\n    setFacingMode(facingMode === 'user' ? 'environment' : 'user');\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"relative bg-gray-900 rounded-lg overflow-hidden\">\n        {!capturedImage ? (\n          <Webcam\n            ref={webcamRef}\n            audio={false}\n            screenshotFormat=\"image/jpeg\"\n            videoConstraints={videoConstraints}\n            className=\"w-full h-64 object-cover\"\n          />\n        ) : (\n          <img\n            src={capturedImage}\n            alt=\"Captured\"\n            className=\"w-full h-64 object-cover\"\n          />\n        )}\n        \n        {!capturedImage && (\n          <div className=\"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-4\">\n            <button\n              onClick={toggleCamera}\n              className=\"bg-white/20 backdrop-blur-sm rounded-full p-3 hover:bg-white/30 transition-colors\"\n              title=\"Switch Camera\"\n            >\n              <RotateCcw className=\"w-5 h-5 text-white\" />\n            </button>\n            <button\n              onClick={capture}\n              disabled={isLoading}\n              className=\"bg-primary-500 rounded-full p-4 hover:bg-primary-600 disabled:opacity-50 transition-colors\"\n              title=\"Take Photo\"\n            >\n              <Camera className=\"w-6 h-6 text-white\" />\n            </button>\n          </div>\n        )}\n      </div>\n\n      <div className=\"flex flex-col sm:flex-row gap-3\">\n        {!capturedImage ? (\n          <>\n            <button\n              onClick={capture}\n              disabled={isLoading}\n              className=\"flex-1 bg-primary-500 text-white py-3 px-6 rounded-lg hover:bg-primary-600 disabled:opacity-50 transition-colors flex items-center justify-center\"\n            >\n              <Camera className=\"w-5 h-5 mr-2\" />\n              {isLoading ? 'Processing...' : 'Take Photo'}\n            </button>\n            <label className=\"flex-1 bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center cursor-pointer\">\n              <Upload className=\"w-5 h-5 mr-2\" />\n              Upload Image\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handleFileUpload}\n                className=\"hidden\"\n              />\n            </label>\n          </>\n        ) : (\n          <button\n            onClick={retake}\n            className=\"flex-1 bg-gray-500 text-white py-3 px-6 rounded-lg hover:bg-gray-600 transition-colors flex items-center justify-center\"\n          >\n            <RotateCcw className=\"w-5 h-5 mr-2\" />\n            Retake Photo\n          </button>\n        )}\n      </div>\n\n      {isLoading && (\n        <div className=\"text-center py-4\">\n          <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500\"></div>\n          <p className=\"mt-2 text-gray-600\">Analyzing your item...</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CameraCapture; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}